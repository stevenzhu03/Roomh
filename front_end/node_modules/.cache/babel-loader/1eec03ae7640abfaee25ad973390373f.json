{"ast":null,"code":"var _jsxFileName = \"/Users/stevenzhu/Development/code/Flatiron School Final Projects/Roomh/front_end/src/components/EditProfile.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { updateUser } from \"../actions\";\nimport { updateImages } from \"../actions\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ImageUploader from \"./ImageUploader\";\n\nclass EditProfile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: this.props.currentUser.info.name,\n      email: this.props.currentUser.info.email,\n      work_info: this.props.currentUser.info.work_info,\n      summary: this.props.currentUser.info.summary,\n      cleaning: this.props.currentUser.info.cleaning,\n      guests: this.props.currentUser.info.guests,\n      schedule: this.props.currentUser.info.schedule,\n      pets: this.props.currentUser.info.pets,\n      budget: this.props.currentUser.info.budget,\n      image: null\n    };\n    this.cleaning = [{\n      value: \"Every Few Days\"\n    }, {\n      value: \"Once a Week\"\n    }, {\n      value: \"Every Few Weeks\"\n    }, {\n      value: \"Once a Month\"\n    }];\n    this.guests = [{\n      value: \"Fine With Having Guests\"\n    }, {\n      value: \"Not Fine with Guests\"\n    }];\n    this.schedule = [{\n      value: \"I Sleep Early\"\n    }, {\n      value: \"I Sleep Late\"\n    }, {\n      value: \"I Work Late\"\n    }, {\n      value: \"In Bed By 12\"\n    }];\n    this.pets = [{\n      value: \"I Do Have a Pet(s)\"\n    }, {\n      value: \"I Have No Pets\"\n    }, {\n      value: \"No Pet, But Fine Living With Them\"\n    }, {\n      value: \"No Pets, Please\"\n    }];\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      fetch(`http://localhost:3000/users/${this.props.currentUser.info.id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify({\n          name: this.state.name,\n          email: this.state.email,\n          work_info: this.state.work_info,\n          summary: this.state.summary,\n          cleaning: this.state.cleaning,\n          guests: this.state.guests,\n          schedule: this.state.schedule,\n          pets: this.state.pets,\n          budget: this.state.budget\n        })\n      }).then(resp => resp.json()).then(user => {\n        this.props.updateUser(user);\n      });\n    };\n\n    this.clickHandler = event => {\n      event.preventDefault();\n      let formdata = new FormData();\n      formdata.append(\"image\", this.state.image);\n      fetch(`http://localhost:3000/user/${this.props.currentUser.info.id}/upload_img`, {\n        method: \"POST\",\n        body: formdata\n      }).then(resp => resp.json()).then(images => this.props.updateImages(images));\n    };\n\n    this.selectImage = image => {\n      this.setState({\n        image\n      });\n    };\n  }\n\n  render() {\n    return !this.props.currentUser ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }, \"Loading ...\") : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-edit-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image-uploader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, \"Upload Image\"), /*#__PURE__*/React.createElement(ImageUploader, {\n      selectImage: this.selectImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ui blue button\",\n      onClick: this.clickHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, \"Upload Image\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, \" Edit User Information \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-name-work\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(TextField, {\n      id: \"outlined-name\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }, \"Work Info\"), /*#__PURE__*/React.createElement(TextField, {\n      id: \"outlined-work-info\",\n      name: \"work_info\",\n      value: this.state.work_info,\n      onChange: this.handleChange,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(TextField, {\n      id: \"outlined-email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-summary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, \"Summary\"), /*#__PURE__*/React.createElement(TextField, {\n      id: \"outlined-multiline-static\",\n      multiline: true,\n      rows: 5,\n      name: \"summary\",\n      value: this.state.summary,\n      variant: \"outlined\",\n      inputProps: {\n        maxLength: 500\n      },\n      helperText: \"Character Limit of 500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-roommate-preferences\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, \" Edit Roommate Preferences \"), /*#__PURE__*/React.createElement(InputLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, \"How Often Do You Clean?\"), /*#__PURE__*/React.createElement(TextField, {\n      select: true,\n      name: \"cleaning\",\n      value: this.state.cleaning,\n      onChange: this.handleChange,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 15\n      }\n    }, this.cleaning.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.value,\n      value: option.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 19\n      }\n    }, option.value))), /*#__PURE__*/React.createElement(InputLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, \"How Do You Feel About Guests?\"), /*#__PURE__*/React.createElement(TextField, {\n      select: true,\n      name: \"guests\",\n      value: this.state.guests,\n      onChange: this.handleChange,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, this.guests.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.value,\n      value: option.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }, option.value))), /*#__PURE__*/React.createElement(InputLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }\n    }, \"How Do You Feel About Pets?\"), /*#__PURE__*/React.createElement(TextField, {\n      select: true,\n      name: \"pets\",\n      value: this.state.pets,\n      onChange: this.handleChange,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 15\n      }\n    }, this.pets.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.value,\n      value: option.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 19\n      }\n    }, option.value))), /*#__PURE__*/React.createElement(InputLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    }, \"What Is Your Schedule Like?\"), /*#__PURE__*/React.createElement(TextField, {\n      select: true,\n      name: \"schedule\",\n      value: this.state.schedule,\n      onChange: this.handleChange,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    }, this.schedule.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.value,\n      value: option.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 19\n      }\n    }, option.value)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-moving-preferences\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 15\n      }\n    }, \" Edit Moving Preferences \"), /*#__PURE__*/React.createElement(InputLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 15\n      }\n    }, \"Budget\"), /*#__PURE__*/React.createElement(TextField, {\n      name: \"budget\",\n      id: \"outlined-budget\",\n      type: \"number\",\n      onChange: this.handleChange,\n      value: this.state.budget,\n      InputLabelProps: {\n        shrink: true\n      },\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ui blue button\",\n      type: \"submit\",\n      onClick: this.handleFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }\n    }, \"Submit\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.auth.currentUser\n  };\n};\n\nexport default connect(mapStateToProps, {\n  updateUser,\n  updateImages\n})(EditProfile);","map":{"version":3,"sources":["/Users/stevenzhu/Development/code/Flatiron School Final Projects/Roomh/front_end/src/components/EditProfile.js"],"names":["React","connect","updateUser","updateImages","TextField","InputLabel","MenuItem","ImageUploader","EditProfile","Component","state","name","props","currentUser","info","email","work_info","summary","cleaning","guests","schedule","pets","budget","image","value","handleChange","event","setState","target","handleFormSubmit","preventDefault","fetch","id","method","headers","Accept","body","JSON","stringify","then","resp","json","user","clickHandler","formdata","FormData","append","images","selectImage","render","maxLength","map","option","shrink","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { updateUser } from \"../actions\";\nimport { updateImages } from \"../actions\"\nimport TextField from \"@material-ui/core/TextField\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ImageUploader from \"./ImageUploader\";\n\n\nclass EditProfile extends React.Component {\n  state = {\n    name: this.props.currentUser.info.name,\n    email: this.props.currentUser.info.email,\n    work_info: this.props.currentUser.info.work_info,\n    summary: this.props.currentUser.info.summary,\n    cleaning: this.props.currentUser.info.cleaning,\n    guests: this.props.currentUser.info.guests,\n    schedule: this.props.currentUser.info.schedule,\n    pets: this.props.currentUser.info.pets,\n    budget: this.props.currentUser.info.budget,\n\n    image: null,\n  };\n\n  cleaning = [\n    { value: \"Every Few Days\" },\n    { value: \"Once a Week\" },\n    { value: \"Every Few Weeks\" },\n    { value: \"Once a Month\" },\n  ];\n\n  guests = [\n    { value: \"Fine With Having Guests\" },\n    { value: \"Not Fine with Guests\" },\n  ];\n\n  schedule = [\n    { value: \"I Sleep Early\" },\n    { value: \"I Sleep Late\" },\n    { value: \"I Work Late\" },\n    { value: \"In Bed By 12\" },\n  ];\n\n  pets = [\n    { value: \"I Do Have a Pet(s)\" },\n    { value: \"I Have No Pets\" },\n    { value: \"No Pet, But Fine Living With Them\" },\n    { value: \"No Pets, Please\" },\n  ];\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    fetch(`http://localhost:3000/users/${this.props.currentUser.info.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify({\n        name: this.state.name,\n        email: this.state.email,\n        work_info: this.state.work_info,\n        summary: this.state.summary,\n        cleaning: this.state.cleaning,\n        guests: this.state.guests,\n        schedule: this.state.schedule,\n        pets: this.state.pets,\n        budget: this.state.budget,\n      }),\n    })\n      .then((resp) => resp.json())\n      .then((user) => {\n        this.props.updateUser(user);\n      });\n  };\n\n  clickHandler = (event) => {\n    event.preventDefault()\n    let formdata = new FormData();\n    formdata.append(\"image\", this.state.image);\n\n    fetch(\n      `http://localhost:3000/user/${this.props.currentUser.info.id}/upload_img`,\n      {\n        method: \"POST\",\n        body: formdata,\n      }\n    )\n    .then(resp => resp.json())\n    .then(images => this.props.updateImages(images))\n  };\n\n  selectImage = (image) => {\n    this.setState({ image });\n  };\n\n  render() {\n    return !this.props.currentUser ? (\n      <div>Loading ...</div>\n    ) : (\n      <div className=\"user-edit-form\">\n        <div className=\"edit-form-container\">\n          <form>\n            <div className=\"image-uploader\">\n              <h1>Upload Image</h1>\n              <ImageUploader selectImage={this.selectImage} />\n              <button className=\"ui blue button\" onClick={this.clickHandler}>Upload Image</button>\n            </div>\n\n            <div className=\"edit-user-info\">\n              <h1> Edit User Information </h1>\n              <div className=\"edit-user-name-work\">\n                <div className=\"edit-user-name\">\n                  <InputLabel>Name</InputLabel>\n                  <TextField\n                    id=\"outlined-name\"\n                    name=\"name\"\n                    value={this.state.name}\n                    onChange={this.handleChange}\n                    variant=\"outlined\"\n                  />\n                </div>\n\n                <div className=\"edit-user-name\">\n                  <InputLabel>Work Info</InputLabel>\n                  <TextField\n                    id=\"outlined-work-info\"\n                    name=\"work_info\"\n                    value={this.state.work_info}\n                    onChange={this.handleChange}\n                    variant=\"outlined\"\n                  />\n                </div>\n\n                <div className=\"edit-user-email\">\n                  <InputLabel>Email</InputLabel>\n                  <TextField\n                    id=\"outlined-email\"\n                    name=\"email\"\n                    value={this.state.email}\n                    onChange={this.handleChange}\n                    variant=\"outlined\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"edit-user-summary\">\n                <InputLabel>Summary</InputLabel>\n                <TextField\n                  id=\"outlined-multiline-static\"\n                  multiline\n                  rows={5}\n                  name=\"summary\"\n                  value={this.state.summary}\n                  variant=\"outlined\"\n                  inputProps={{ maxLength: 500 }}\n                  helperText=\"Character Limit of 500\"\n                />\n              </div>\n            </div>\n\n            <div className=\"edit-user-roommate-preferences\">\n              <h1> Edit Roommate Preferences </h1>\n              <InputLabel>How Often Do You Clean?</InputLabel>\n              <TextField\n                select\n                name=\"cleaning\"\n                value={this.state.cleaning}\n                onChange={this.handleChange}\n                variant=\"outlined\"\n              >\n                {this.cleaning.map((option) => (\n                  <MenuItem key={option.value} value={option.value}>\n                    {option.value}\n                  </MenuItem>\n                ))}\n              </TextField>\n\n              <InputLabel>How Do You Feel About Guests?</InputLabel>\n              <TextField\n                select\n                name=\"guests\"\n                value={this.state.guests}\n                onChange={this.handleChange}\n                variant=\"outlined\"\n              >\n                {this.guests.map((option) => (\n                  <MenuItem key={option.value} value={option.value}>\n                    {option.value}\n                  </MenuItem>\n                ))}\n              </TextField>\n\n              <InputLabel>How Do You Feel About Pets?</InputLabel>\n              <TextField\n                select\n                name=\"pets\"\n                value={this.state.pets}\n                onChange={this.handleChange}\n                variant=\"outlined\"\n              >\n                {this.pets.map((option) => (\n                  <MenuItem key={option.value} value={option.value}>\n                    {option.value}\n                  </MenuItem>\n                ))}\n              </TextField>\n\n              <InputLabel>What Is Your Schedule Like?</InputLabel>\n              <TextField\n                select\n                name=\"schedule\"\n                value={this.state.schedule}\n                onChange={this.handleChange}\n                variant=\"outlined\"\n              >\n                {this.schedule.map((option) => (\n                  <MenuItem key={option.value} value={option.value}>\n                    {option.value}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </div>\n\n            <div className=\"edit-user-moving-preferences\">\n              <h1> Edit Moving Preferences </h1>\n              <InputLabel>Budget</InputLabel>\n              <TextField\n                name=\"budget\"\n                id=\"outlined-budget\"\n                type=\"number\"\n                onChange={this.handleChange}\n                value={this.state.budget}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n                variant=\"outlined\"\n              />\n            </div>\n\n            <button className=\"ui blue button\" type=\"submit\" onClick={this.handleFormSubmit}>\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { currentUser: state.auth.currentUser };\n};\n\nexport default connect(mapStateToProps, { updateUser, updateImages })(EditProfile);\n"]},"metadata":{},"sourceType":"module"}