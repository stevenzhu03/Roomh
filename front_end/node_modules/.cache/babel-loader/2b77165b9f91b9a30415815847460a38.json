{"ast":null,"code":"var _jsxFileName = \"/Users/stevenzhu/Development/code/Flatiron School Final Projects/Roomh/front_end/src/components/EditProfile.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { confirmMatch } from \"../actions\";\n\nclass EditProfile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: this.props.currentUser.info.name,\n      summary: this.props.currentUser.info.name,\n      image: null\n    };\n\n    this.clickHandler = (user_id, matcher_id) => {\n      this.props.confirmMatch(user_id, matcher_id);\n    };\n\n    this.changeHandler = event => {\n      let formdata = new FormData();\n      formdata.append(\"image\", {\n        name: event.target.files[0].name,\n        type: event.target.files[0].type\n      });\n      fetch(`http://localhost:3000/user/${this.props.currentUser.info.id}/upload_img`, {\n        method: \"POST\",\n        // headers: {\n        //     'Content-Type': 'multipart/form-data',\n        // },\n        body: formdata\n      });\n    };\n  }\n\n  render() {\n    return !this.props.currentUser ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, \"Loading ...\") : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.auth.currentUser\n  };\n};\n\nexport default connect(mapStateToProps, {\n  confirmMatch\n})(EditProfile);","map":{"version":3,"sources":["/Users/stevenzhu/Development/code/Flatiron School Final Projects/Roomh/front_end/src/components/EditProfile.js"],"names":["React","connect","confirmMatch","EditProfile","Component","state","name","props","currentUser","info","summary","image","clickHandler","user_id","matcher_id","changeHandler","event","formdata","FormData","append","target","files","type","fetch","id","method","body","render","mapStateToProps","auth"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,YAAT,QAA6B,YAA7B;;AAEA,MAAMC,WAAN,SAA0BH,KAAK,CAACI,SAAhC,CAA0C;AAAA;AAAA;AAAA,SACxCC,KADwC,GAChC;AACJC,MAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWC,WAAX,CAAuBC,IAAvB,CAA4BH,IAD9B;AAEJI,MAAAA,OAAO,EAAE,KAAKH,KAAL,CAAWC,WAAX,CAAuBC,IAAvB,CAA4BH,IAFjC;AAGJK,MAAAA,KAAK,EAAE;AAHH,KADgC;;AAAA,SAOxCC,YAPwC,GAOzB,CAACC,OAAD,EAAUC,UAAV,KAAyB;AACtC,WAAKP,KAAL,CAAWL,YAAX,CAAwBW,OAAxB,EAAiCC,UAAjC;AACD,KATuC;;AAAA,SAWxCC,aAXwC,GAWvBC,KAAD,IAAW;AAEzB,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB;AAACb,QAAAA,IAAI,EAAEU,KAAK,CAACI,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBf,IAA7B;AAAmCgB,QAAAA,IAAI,EAAEN,KAAK,CAACI,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBC;AAA/D,OAAzB;AAEAC,MAAAA,KAAK,CAAE,8BAA6B,KAAKhB,KAAL,CAAWC,WAAX,CAAuBC,IAAvB,CAA4Be,EAAG,aAA9D,EAA4E;AAC7EC,QAAAA,MAAM,EAAE,MADqE;AAE7E;AACA;AACA;AACAC,QAAAA,IAAI,EAAET;AALuE,OAA5E,CAAL;AAOD,KAvBuC;AAAA;;AA2BxCU,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,KAAKpB,KAAL,CAAWC,WAAZ,gBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADK,gBAGL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAG,KAAKO,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAHF;AAOD;;AAnCuC;;AAsC1C,MAAMa,eAAe,GAAIvB,KAAD,IAAW;AACjC,SAAO;AAAEG,IAAAA,WAAW,EAAEH,KAAK,CAACwB,IAAN,CAAWrB;AAA1B,GAAP;AACD,CAFD;;AAIA,eAAeP,OAAO,CAAC2B,eAAD,EAAkB;AAAE1B,EAAAA;AAAF,CAAlB,CAAP,CAA2CC,WAA3C,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { confirmMatch } from \"../actions\";\n\nclass EditProfile extends React.Component {\n  state = {\n      name: this.props.currentUser.info.name, \n      summary: this.props.currentUser.info.name,\n      image: null\n  };\n\n  clickHandler = (user_id, matcher_id) => {\n    this.props.confirmMatch(user_id, matcher_id);\n  };\n\n  changeHandler = (event) => {\n    \n    let formdata = new FormData();\n    formdata.append(\"image\", {name: event.target.files[0].name, type: event.target.files[0].type })\n\n    fetch(`http://localhost:3000/user/${this.props.currentUser.info.id}/upload_img`, {\n        method: \"POST\",\n        // headers: {\n        //     'Content-Type': 'multipart/form-data',\n        // },\n        body: formdata\n    })\n  }\n\n  \n\n  render() {\n    return !this.props.currentUser ? (\n      <div>Loading ...</div>\n    ) : (\n      <div>\n        <input type=\"file\" onChange= {this.changeHandler} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { currentUser: state.auth.currentUser };\n};\n\nexport default connect(mapStateToProps, { confirmMatch })(EditProfile);\n"]},"metadata":{},"sourceType":"module"}